{"pageProps":{"post":{"frontmatter":{"banner_alt":"A photo of a forest overlooking the bright white sky in the background","banner":"https://images.unsplash.com/photo-1618401471353-b98afee0b2eb","title_prefix":"Guide","title":"Using GitHub as a CMS","description":"Learn how to use GitHub as a CMS using server-side rendering from Next.js","date":"January 19th, 2022","slug":"using_github_as_a_cms"},"source":{"compiledSource":"var i=Object.defineProperty,l=Object.defineProperties;var d=Object.getOwnPropertyDescriptors;var p=Object.getOwnPropertySymbols;var o=Object.prototype.hasOwnProperty,c=Object.prototype.propertyIsEnumerable;var r=(e,n,s)=>n in e?i(e,n,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[n]=s,a=(e,n)=>{for(var s in n||(n={}))o.call(n,s)&&r(e,s,n[s]);if(p)for(var s of p(n))c.call(n,s)&&r(e,s,n[s]);return e},m=(e,n)=>l(e,d(n));var N=(e,n)=>{var s={};for(var t in e)o.call(e,t)&&n.indexOf(t)<0&&(s[t]=e[t]);if(e!=null&&p)for(var t of p(e))n.indexOf(t)<0&&c.call(e,t)&&(s[t]=e[t]);return s};const layoutProps={},MDXLayout=\"wrapper\";function MDXContent(s){var t=s,{components:e}=t,n=N(t,[\"components\"]);return mdx(MDXLayout,m(a(a({},layoutProps),n),{components:e,mdxType:\"MDXLayout\"}),mdx(\"p\",null,\"Since re-launching my website with an all new redesign I added a number of cool features. One such feature I thought worth sharing about was my \",mdx(\"a\",a({parentName:\"p\"},{href:\"/portfolio\"}),\"projects page\"),\" as it actually uses \",mdx(\"a\",a({parentName:\"p\"},{href:\"https://github.com\"}),\"GitHub\"),\" as a CMS (Content Management System).\"),mdx(\"p\",null,\"So, let's go through and breakdown why I added this feature, why not use some other service & of course how it works.\"),mdx(\"h2\",a({},{id:\"-why\"}),mdx(\"a\",a({parentName:\"h2\"},{\"aria-hidden\":\"true\",tabIndex:-1,href:\"#-why\"}),mdx(\"span\",a({parentName:\"a\"},{className:\"icon icon-link\"}))),\"\\u2753\",\" Why\"),mdx(\"hr\",null),mdx(\"p\",null,\"When re-designing my website I set out with a number of goals. One such goal was to retain a similar portfolio page to my existing website at the time which fetched all my GitHub repositories & just listed them all.\"),mdx(\"p\",null,\"However, I wanted to improve on this page by adding some sort of curation to it. Preferably via some method that is quick, easy to use, can be accessed from almost anywhere & preferably free.\"),mdx(\"h2\",a({},{id:\"\\uFE0F-headless-cms\"}),mdx(\"a\",a({parentName:\"h2\"},{\"aria-hidden\":\"true\",tabIndex:-1,href:\"#\\uFE0F-headless-cms\"}),mdx(\"span\",a({parentName:\"a\"},{className:\"icon icon-link\"}))),\"\\u2601\\uFE0F\",\" Headless CMS\"),mdx(\"hr\",null),mdx(\"p\",null,\"I knew I needed some kind of headless CMS in some form to let me curate the content I wanted displayed, so I did some thinking & some research.\"),mdx(\"p\",null,\"I found most people were happy to recommend other headless CMS services like \",mdx(\"a\",a({parentName:\"p\"},{href:\"https://strapi.io/\"}),\"Strapi\"),\", \",mdx(\"a\",a({parentName:\"p\"},{href:\"https://www.sanity.io/\"}),\"Sanity\"),\", \",mdx(\"a\",a({parentName:\"p\"},{href:\"https://graphcms.com/\"}),\"GraphCMS\"),\", etc which did seem to do the job I wanted of providing a platform for me to curate & manage my content without having to redeploy. But most of them had the same issues that I didn't like.\"),mdx(\"h4\",a({},{id:\"resilience\"}),mdx(\"a\",a({parentName:\"h4\"},{\"aria-hidden\":\"true\",tabIndex:-1,href:\"#resilience\"}),mdx(\"span\",a({parentName:\"a\"},{className:\"icon icon-link\"}))),\"Resilience\"),mdx(\"p\",null,\"Is it overkill to try & have your personal portfolio website to have a 99.999% uptime? Probably.\"),mdx(\"p\",null,\"Does it matter if my website goes down? No. But I like to try & treat as any other production environment & where possible not add another possible point of failure. In this case being a 3rd party service to serve the data for my portfolio page.\"),mdx(\"p\",null,\"If the 3rd party service goes down will my content somehow still be magically served by some cache somewhere until the service comes back online? Or is there just going to be no content served at all?\"),mdx(\"p\",null,`\"But you're fetching from GitHub, right? So you're still reliant on data from them\" Fair point, yes I am. However, I am both more likely to trust GitHub's uptime & platform resilience than a CMS service, and it's easier to add in a fail safe so if GitHub does go down we can still serve content without them (More on this later).`),mdx(\"h4\",a({},{id:\"price\"}),mdx(\"a\",a({parentName:\"h4\"},{\"aria-hidden\":\"true\",tabIndex:-1,href:\"#price\"}),mdx(\"span\",a({parentName:\"a\"},{className:\"icon icon-link\"}))),\"Price\"),mdx(\"p\",null,\"Some may call me cheap for this but another goal for my personal website is to be as cheap as possible. As of writing my website costs me $20/year to run. That's it.\"),mdx(\"p\",null,\"How? Simple. $20/year for a domain, code hosted GitHub & deployed to \",mdx(\"a\",a({parentName:\"p\"},{href:\"https://vercel.com/home?utm_source=nuro&utm_campaign=oss\"}),\"Vercel\"),\". It's that cheap & I want to keep it that way.\"),mdx(\"p\",null,\"So, the idea of paying for another service, however nice a lot of them look, is just not for me. So I wanted to find an alternative that would serve the same function I need it to but for zero additional cost.\"),mdx(\"h2\",a({},{id:\"-how\"}),mdx(\"a\",a({parentName:\"h2\"},{\"aria-hidden\":\"true\",tabIndex:-1,href:\"#-how\"}),mdx(\"span\",a({parentName:\"a\"},{className:\"icon icon-link\"}))),\"\\u{1F528}\",\" How\"),mdx(\"hr\",null),mdx(\"p\",null,\"If you'd rather just look at the final code to see how it works, go check the \",mdx(\"a\",a({parentName:\"p\"},{href:\"https://github.com/nurodev/nuro.dev/blob/667b055043b94d894172085fee794c3849a3f25f/lib/projects.ts\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"projects.ts\")),\" file in my websites GitHub repository.\"),mdx(\"p\",null,\"The short version of how it works is this: Using \",mdx(\"a\",a({parentName:\"p\"},{href:\"https://github.com/topics\"}),\"topics on GitHub\"),\" you can filter what content you do & don't want to show. In my case I have given all my chosen repositories a \",mdx(\"inlineCode\",{parentName:\"p\"},\"portfolio\"),\" topic & that will make the repository show up on my portfolio page.\"),mdx(\"p\",null,\"To get this working there are 2 key things we're going to need: \",mdx(\"a\",a({parentName:\"p\"},{href:\"https://nextjs.org/\"}),\"Next.js\"),\" & the \",mdx(\"a\",a({parentName:\"p\"},{href:\"https://docs.github.com\"}),\"GitHub api\"),\". Optionally you can also use some kind of cache, like \",mdx(\"a\",a({parentName:\"p\"},{href:\"https://upstash.com/\"}),\"Upstash\"),\", to cache your data & save on requests to the GitHub api.\"),mdx(\"h3\",a({},{id:\"fetching-repositories\"}),mdx(\"a\",a({parentName:\"h3\"},{\"aria-hidden\":\"true\",tabIndex:-1,href:\"#fetching-repositories\"}),mdx(\"span\",a({parentName:\"a\"},{className:\"icon icon-link\"}))),\"Fetching repositories\"),mdx(\"p\",null,\"Starting off we will set up a base \",mdx(\"inlineCode\",{parentName:\"p\"},\"getServerSideProps\"),\" function that will allow us to fetch the repository data on the server & pass the data to the client.\"),mdx(\"div\",a({},{className:\"remark-code-title\"}),\"portfolio.jsx\"),mdx(\"div\",a({},{className:\"remark-highlight\"}),mdx(\"pre\",a({parentName:\"div\"},{className:\"language-jsx\"}),mdx(\"code\",a({parentName:\"pre\"},{className:\"language-jsx\"}),mdx(\"span\",a({parentName:\"code\"},{className:\"token keyword module\"}),\"export\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token keyword\"}),\"async\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token keyword\"}),\"function\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token function\"}),\"getServerSideProps\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"(\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\")\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n\t`,mdx(\"span\",a({parentName:\"code\"},{className:\"token keyword\"}),\"const\"),\" response \",mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\"=\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token keyword control-flow\"}),\"await\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token function\"}),\"fetch\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"(\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),\"'https://api.github.com/users/GITHUB_USERNAME/repos'\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\")\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\";\"),`\n\n\t`,mdx(\"span\",a({parentName:\"code\"},{className:\"token keyword\"}),\"const\"),\" json \",mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\"=\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token keyword control-flow\"}),\"await\"),\" response\",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\".\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token method function property-access\"}),\"json\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"(\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\")\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\";\"),`\n\n\t`,mdx(\"span\",a({parentName:\"code\"},{className:\"token keyword control-flow\"}),\"return\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n\t\t`,mdx(\"span\",a({parentName:\"code\"},{className:\"token literal-property property\"}),\"props\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n\t`,mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\";\"),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\";\"),`\n`))),mdx(\"h3\",a({},{id:\"repository-filtering\"}),mdx(\"a\",a({parentName:\"h3\"},{\"aria-hidden\":\"true\",tabIndex:-1,href:\"#repository-filtering\"}),mdx(\"span\",a({parentName:\"a\"},{className:\"icon icon-link\"}))),\"Repository filtering\"),mdx(\"p\",null,\"Here is where we can add our own custom logic to curate the data based on the data returned from GitHub. In this example we'll be filtering out all the repositories that both don't have the \",mdx(\"inlineCode\",{parentName:\"p\"},\"portfolio\"),\" topic & are not archived.\"),mdx(\"div\",a({},{className:\"remark-code-title\"}),\"portfolio.jsx\"),mdx(\"div\",a({},{className:\"remark-highlight\"}),mdx(\"pre\",a({parentName:\"div\"},{className:\"language-jsx\"}),mdx(\"code\",a({parentName:\"pre\"},{className:\"language-jsx\"}),mdx(\"span\",a({parentName:\"code\"},{className:\"token keyword module\"}),\"export\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token keyword\"}),\"async\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token keyword\"}),\"function\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token function\"}),\"getServerSideProps\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"(\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\")\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n\t`,mdx(\"span\",a({parentName:\"code\"},{className:\"token comment\"}),\"// ...\"),`\n\n\t`,mdx(\"span\",a({parentName:\"code\"},{className:\"token keyword\"}),\"const\"),\" repositories \",mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\"=\"),\" json\",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\".\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token method function property-access\"}),\"map\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"(\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"(\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token parameter\"}),\"repo\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\")\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token arrow operator\"}),\"=>\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n\t\t`,mdx(\"span\",a({parentName:\"code\"},{className:\"token keyword control-flow\"}),\"if\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"(\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\"!\"),\"repo\",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\".\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token property-access\"}),\"topics\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\".\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token method function property-access\"}),\"includes\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"(\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),\"'portfolio'\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\")\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\")\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token keyword control-flow\"}),\"return\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token keyword null nil\"}),\"null\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\";\"),`\n\n\t\t`,mdx(\"span\",a({parentName:\"code\"},{className:\"token keyword control-flow\"}),\"if\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"(\"),\"repo\",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\".\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token property-access\"}),\"archived\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\")\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token keyword control-flow\"}),\"return\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token keyword null nil\"}),\"null\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\";\"),`\n\n\t\t`,mdx(\"span\",a({parentName:\"code\"},{className:\"token keyword control-flow\"}),\"return\"),\" repo\",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\";\"),`\n\t`,mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\")\"),`\n\t`,mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\".\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token method function property-access\"}),\"filter\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"(\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"(\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token parameter\"}),\"project\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\")\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token arrow operator\"}),\"=>\"),\" project \",mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\"!==\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token keyword null nil\"}),\"null\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\")\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\";\"),`\n\n\t`,mdx(\"span\",a({parentName:\"code\"},{className:\"token keyword control-flow\"}),\"return\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n\t\t`,mdx(\"span\",a({parentName:\"code\"},{className:\"token literal-property property\"}),\"props\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n\t\t\trepositories`,mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n\t\t`,mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n\t`,mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\";\"),`\n`))),mdx(\"h4\",a({},{id:\"github-authentication\"}),mdx(\"a\",a({parentName:\"h4\"},{\"aria-hidden\":\"true\",tabIndex:-1,href:\"#github-authentication\"}),mdx(\"span\",a({parentName:\"a\"},{className:\"icon icon-link\"}))),\"GitHub Authentication\"),mdx(\"p\",null,\"Next up is an optional step that I highly recommend to reduce the chance of hitting the GitHub api rate limit.\"),mdx(\"p\",null,\"To complete this step you will first need to create a GitHub personal access token. You can follow the \",mdx(\"a\",a({parentName:\"p\"},{href:\"https://docs.github.com/en/authentication/keeping-your-account-and-data-secure/creating-a-personal-access-token\"}),\"official guide here\"),\".\"),mdx(\"p\",null,\"With your newly generated access token, add it to your \",mdx(\"inlineCode\",{parentName:\"p\"},\".env\"),\" file.\"),mdx(\"div\",a({},{className:\"remark-code-title\"}),\".env\"),mdx(\"div\",a({},{className:\"remark-highlight\"}),mdx(\"pre\",a({parentName:\"div\"},{className:\"language-unknown\"}),mdx(\"code\",a({parentName:\"pre\"},{className:\"language-unknown\"}),\"GITHUB_PAT=abc123\"))),mdx(\"p\",null,\"With it added you can update your fetch request to add the token to your request headers.\"),mdx(\"div\",a({},{className:\"remark-code-title\"}),\"portfolio.jsx\"),mdx(\"div\",a({},{className:\"remark-highlight\"}),mdx(\"pre\",a({parentName:\"div\"},{className:\"language-jsx\"}),mdx(\"code\",a({parentName:\"pre\"},{className:\"language-jsx\"}),mdx(\"span\",a({parentName:\"code\"},{className:\"token keyword module\"}),\"export\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token keyword\"}),\"async\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token keyword\"}),\"function\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token function\"}),\"getServerSideProps\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"(\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\")\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n\t`,mdx(\"span\",a({parentName:\"code\"},{className:\"token keyword\"}),\"const\"),\" response \",mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\"=\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token keyword control-flow\"}),\"await\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token function\"}),\"fetch\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"(\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),\"'https://api.github.com/users/GITHUB_USERNAME/repos'\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n\t\t`,mdx(\"span\",a({parentName:\"code\"},{className:\"token literal-property property\"}),\"headers\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n\t\t\t`,mdx(\"span\",a({parentName:\"code\"},{className:\"token literal-property property\"}),\"authorization\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token template-string\"}),mdx(\"span\",a({parentName:\"span\"},{className:\"token template-punctuation string\"}),\"`\"),mdx(\"span\",a({parentName:\"span\"},{className:\"token string\"}),\"token \"),mdx(\"span\",a({parentName:\"span\"},{className:\"token interpolation\"}),mdx(\"span\",a({parentName:\"span\"},{className:\"token interpolation-punctuation punctuation\"}),\"${\"),\"process\",mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation\"}),\".\"),mdx(\"span\",a({parentName:\"span\"},{className:\"token property-access\"}),\"env\"),mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation\"}),\".\"),mdx(\"span\",a({parentName:\"span\"},{className:\"token constant\"}),\"GITHUB_PAT\"),mdx(\"span\",a({parentName:\"span\"},{className:\"token interpolation-punctuation punctuation\"}),\"}\")),mdx(\"span\",a({parentName:\"span\"},{className:\"token template-punctuation string\"}),\"`\")),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n\t\t`,mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n\t`,mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\")\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\";\"),`\n\n\t`,mdx(\"span\",a({parentName:\"code\"},{className:\"token comment\"}),\"// ...\"),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\";\"),`\n`))),mdx(\"h4\",a({},{id:\"caching\"}),mdx(\"a\",a({parentName:\"h4\"},{\"aria-hidden\":\"true\",tabIndex:-1,href:\"#caching\"}),mdx(\"span\",a({parentName:\"a\"},{className:\"icon icon-link\"}))),\"Caching\"),mdx(\"p\",null,\"This last step is also optional but can help with platform resilience & response times. In short we'll use some form of super fast caching database, like Redis, to store the request data after the first request & from then on after serve the cached data instead of having to make multiple requests.\"),mdx(\"p\",null,\"For my website I ended up using \",mdx(\"a\",a({parentName:\"p\"},{href:\"https://upstash.com\"}),\"Upstash\"),\" which offers a single single Redis database for free. I recommend following their guide to \",mdx(\"a\",a({parentName:\"p\"},{href:\"https://docs.upstash.com/redis\"}),\"get started setting up your first Redis database\"),\".\"),mdx(\"p\",null,\"With your database set up you should now have a \",mdx(\"inlineCode\",{parentName:\"p\"},\"REDIS_URL\"),\" to add your \",mdx(\"inlineCode\",{parentName:\"p\"},\".env\"),\" file. It should look something like this \",mdx(\"inlineCode\",{parentName:\"p\"},\"redis://USERNAME:PASSWORD@HOST:PORT\"),\". Don't worry if there isn't a username.\"),mdx(\"div\",a({},{className:\"remark-code-title\"}),\".env\"),mdx(\"div\",a({},{className:\"remark-highlight\"}),mdx(\"pre\",a({parentName:\"div\"},{className:\"language-unknown\"}),mdx(\"code\",a({parentName:\"pre\"},{className:\"language-unknown\"}),`GITHUB_PAT=abc123\nREDIS_URL=redis://USERNAME:PASSWORD@HOST:PORT`))),mdx(\"p\",null,\"Now that we have a database to access we need a client to access it with. There's a number of Redis client's, including Upstash's \",mdx(\"a\",a({parentName:\"p\"},{href:\"https://www.npmjs.com/package/@upstash/redis\"}),\"own client\"),\", but I personally prefer \",mdx(\"inlineCode\",{parentName:\"p\"},\"ioredis\"),\" so that's what I will be using for this example but any others should work fine. Install it as a development dependency.\"),mdx(\"div\",a({},{className:\"remark-code-title\"}),\"Terminal\"),mdx(\"div\",a({},{className:\"remark-highlight\"}),mdx(\"pre\",a({parentName:\"div\"},{className:\"language-zsh\"}),mdx(\"code\",a({parentName:\"pre\"},{className:\"language-zsh\"}),\"npm install --save-dev ioredis\"))),mdx(\"p\",null,\"Or using Yarn\"),mdx(\"div\",a({},{className:\"remark-code-title\"}),\"Terminal\"),mdx(\"div\",a({},{className:\"remark-highlight\"}),mdx(\"pre\",a({parentName:\"div\"},{className:\"language-zsh\"}),mdx(\"code\",a({parentName:\"pre\"},{className:\"language-zsh\"}),\"yarn add -D ioredis\"))),mdx(\"p\",null,\"With it now installed we can create a new client instance to connect to our database.\"),mdx(\"div\",a({},{className:\"remark-code-title\"}),\"portfolio.jsx\"),mdx(\"div\",a({},{className:\"remark-highlight\"}),mdx(\"pre\",a({parentName:\"div\"},{className:\"language-jsx\"}),mdx(\"code\",a({parentName:\"pre\"},{className:\"language-jsx\"}),mdx(\"span\",a({parentName:\"code\"},{className:\"token keyword module\"}),\"export\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token keyword\"}),\"async\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token keyword\"}),\"function\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token function\"}),\"getServerSideProps\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"(\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\")\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n\t`,mdx(\"span\",a({parentName:\"code\"},{className:\"token keyword\"}),\"const\"),\" redis \",mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\"=\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token keyword\"}),\"new\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token class-name\"}),\"Redis\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"(\"),\"process\",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\".\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token property-access\"}),\"env\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\".\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token constant\"}),\"REDIS_URL\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\")\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\";\"),`\n\n\t`,mdx(\"span\",a({parentName:\"code\"},{className:\"token comment\"}),\"// ...\"),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\";\"),`\n`))),mdx(\"p\",null,\"Finally we can add the actual logic to check whether the cache already has the data we need & if not we can fetch the data fresh from GitHub & store it in the cache before we finally return it.\"),mdx(\"div\",a({},{className:\"remark-code-title\"}),\"portfolio.jsx\"),mdx(\"div\",a({},{className:\"remark-highlight\"}),mdx(\"pre\",a({parentName:\"div\"},{className:\"language-jsx\"}),mdx(\"code\",a({parentName:\"pre\"},{className:\"language-jsx\"}),mdx(\"span\",a({parentName:\"code\"},{className:\"token keyword module\"}),\"export\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token keyword\"}),\"async\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token keyword\"}),\"function\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token function\"}),\"getServerSideProps\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"(\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\")\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n\t`,mdx(\"span\",a({parentName:\"code\"},{className:\"token comment\"}),\"// ...\"),`\n\n\t`,mdx(\"span\",a({parentName:\"code\"},{className:\"token keyword\"}),\"const\"),\" cache \",mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\"=\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token keyword control-flow\"}),\"await\"),\" redis\",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\".\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token method function property-access\"}),\"get\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"(\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),\"'repositories'\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\")\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\";\"),`\n\t`,mdx(\"span\",a({parentName:\"code\"},{className:\"token keyword control-flow\"}),\"if\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"(\"),\"cache \",mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\"!==\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token keyword null nil\"}),\"null\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\")\"),`\n\t\t`,mdx(\"span\",a({parentName:\"code\"},{className:\"token keyword control-flow\"}),\"return\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n\t\t\t`,mdx(\"span\",a({parentName:\"code\"},{className:\"token literal-property property\"}),\"props\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n\t\t\t\t`,mdx(\"span\",a({parentName:\"code\"},{className:\"token literal-property property\"}),\"repositories\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" cache\",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n\t\t\t`,mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n\t\t`,mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n\n\t`,mdx(\"span\",a({parentName:\"code\"},{className:\"token keyword\"}),\"const\"),\" repositories \",mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\"=\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token spread operator\"}),\"...\"),`\n\n\tredis`,mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\".\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token method function property-access\"}),\"set\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"(\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),\"'repositories'\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token known-class-name class-name\"}),\"JSON\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\".\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token method function property-access\"}),\"stringify\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"(\"),\"repositories\",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\")\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\")\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\";\"),`\n\n\t`,mdx(\"span\",a({parentName:\"code\"},{className:\"token keyword control-flow\"}),\"return\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n\t\t`,mdx(\"span\",a({parentName:\"code\"},{className:\"token literal-property property\"}),\"props\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n\t\t\trepositories`,mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n\t\t`,mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n\t`,mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\";\"),`\n`))),mdx(\"h2\",a({},{id:\"-conclusion\"}),mdx(\"a\",a({parentName:\"h2\"},{\"aria-hidden\":\"true\",tabIndex:-1,href:\"#-conclusion\"}),mdx(\"span\",a({parentName:\"a\"},{className:\"icon icon-link\"}))),\"\\u2705\",\" Conclusion\"),mdx(\"hr\",null),mdx(\"p\",null,\"And that's it, with all of that we have a very simple but resilient system that allows us to use GitHub to manage what content is displayed on our site, but also is not entirely reliant on GitHub so if there is any downtime for whatever reason on GitHub's end we still have the data cached.\"),mdx(\"div\",a({},{className:\"remark-code-title\"}),\"portfolio.jsx\"),mdx(\"div\",a({},{className:\"remark-highlight\"}),mdx(\"pre\",a({parentName:\"div\"},{className:\"language-jsx\"}),mdx(\"code\",a({parentName:\"pre\"},{className:\"language-jsx\"}),mdx(\"span\",a({parentName:\"code\"},{className:\"token keyword module\"}),\"export\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token keyword\"}),\"async\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token keyword\"}),\"function\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token function\"}),\"getServerSideProps\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"(\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\")\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n\t`,mdx(\"span\",a({parentName:\"code\"},{className:\"token keyword\"}),\"const\"),\" redis \",mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\"=\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token keyword\"}),\"new\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token class-name\"}),\"Redis\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"(\"),\"process\",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\".\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token property-access\"}),\"env\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\".\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token constant\"}),\"REDIS_URL\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\")\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\";\"),`\n\n\t`,mdx(\"span\",a({parentName:\"code\"},{className:\"token keyword\"}),\"const\"),\" cache \",mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\"=\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token keyword control-flow\"}),\"await\"),\" redis\",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\".\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token method function property-access\"}),\"get\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"(\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),\"'repositories'\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\")\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\";\"),`\n\t`,mdx(\"span\",a({parentName:\"code\"},{className:\"token keyword control-flow\"}),\"if\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"(\"),\"cache \",mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\"!==\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token keyword null nil\"}),\"null\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\")\"),`\n\t\t`,mdx(\"span\",a({parentName:\"code\"},{className:\"token keyword control-flow\"}),\"return\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n\t\t\t`,mdx(\"span\",a({parentName:\"code\"},{className:\"token literal-property property\"}),\"props\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n\t\t\t\t`,mdx(\"span\",a({parentName:\"code\"},{className:\"token literal-property property\"}),\"repositories\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" cache\",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n\t\t\t`,mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n\t\t`,mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n\n\t`,mdx(\"span\",a({parentName:\"code\"},{className:\"token keyword\"}),\"const\"),\" response \",mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\"=\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token keyword control-flow\"}),\"await\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token function\"}),\"fetch\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"(\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),\"'https://api.github.com/users/GITHUB_USERNAME/repos'\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n\t\t`,mdx(\"span\",a({parentName:\"code\"},{className:\"token literal-property property\"}),\"headers\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n\t\t\t`,mdx(\"span\",a({parentName:\"code\"},{className:\"token literal-property property\"}),\"authorization\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token template-string\"}),mdx(\"span\",a({parentName:\"span\"},{className:\"token template-punctuation string\"}),\"`\"),mdx(\"span\",a({parentName:\"span\"},{className:\"token string\"}),\"token \"),mdx(\"span\",a({parentName:\"span\"},{className:\"token interpolation\"}),mdx(\"span\",a({parentName:\"span\"},{className:\"token interpolation-punctuation punctuation\"}),\"${\"),\"process\",mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation\"}),\".\"),mdx(\"span\",a({parentName:\"span\"},{className:\"token property-access\"}),\"env\"),mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation\"}),\".\"),mdx(\"span\",a({parentName:\"span\"},{className:\"token constant\"}),\"GITHUB_PAT\"),mdx(\"span\",a({parentName:\"span\"},{className:\"token interpolation-punctuation punctuation\"}),\"}\")),mdx(\"span\",a({parentName:\"span\"},{className:\"token template-punctuation string\"}),\"`\")),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n\t\t`,mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n\t`,mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\")\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\";\"),`\n\n\t`,mdx(\"span\",a({parentName:\"code\"},{className:\"token keyword\"}),\"const\"),\" json \",mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\"=\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token keyword control-flow\"}),\"await\"),\" response\",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\".\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token method function property-access\"}),\"json\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"(\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\")\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\";\"),`\n\n\t`,mdx(\"span\",a({parentName:\"code\"},{className:\"token keyword\"}),\"const\"),\" repositories \",mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\"=\"),\" json\",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\".\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token method function property-access\"}),\"map\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"(\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"(\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token parameter\"}),\"repo\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\")\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token arrow operator\"}),\"=>\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n\t\t`,mdx(\"span\",a({parentName:\"code\"},{className:\"token keyword control-flow\"}),\"if\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"(\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\"!\"),\"repo\",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\".\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token property-access\"}),\"topics\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\".\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token method function property-access\"}),\"includes\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"(\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),\"'portfolio'\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\")\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\")\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token keyword control-flow\"}),\"return\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token keyword null nil\"}),\"null\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\";\"),`\n\n\t\t`,mdx(\"span\",a({parentName:\"code\"},{className:\"token keyword control-flow\"}),\"if\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"(\"),\"repo\",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\".\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token property-access\"}),\"archived\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\")\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token keyword control-flow\"}),\"return\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token keyword null nil\"}),\"null\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\";\"),`\n\n\t\t`,mdx(\"span\",a({parentName:\"code\"},{className:\"token keyword control-flow\"}),\"return\"),\" repo\",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\";\"),`\n\t`,mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\")\"),`\n\t`,mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\".\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token method function property-access\"}),\"filter\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"(\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"(\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token parameter\"}),\"project\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\")\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token arrow operator\"}),\"=>\"),\" project \",mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\"!==\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token keyword null nil\"}),\"null\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\")\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\";\"),`\n\n\tredis`,mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\".\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token method function property-access\"}),\"set\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"(\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),\"'repositories'\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token known-class-name class-name\"}),\"JSON\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\".\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token method function property-access\"}),\"stringify\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"(\"),\"repositories\",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\")\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\")\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\";\"),`\n\n\t`,mdx(\"span\",a({parentName:\"code\"},{className:\"token keyword control-flow\"}),\"return\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n\t\t`,mdx(\"span\",a({parentName:\"code\"},{className:\"token literal-property property\"}),\"props\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n\t\t\trepositories`,mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n\t\t`,mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n\t`,mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\";\"),`\n\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token keyword module\"}),\"export\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token keyword module\"}),\"default\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token keyword\"}),\"function\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token function\"}),mdx(\"span\",a({parentName:\"span\"},{className:\"token maybe-class-name\"}),\"Page\")),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"(\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token parameter\"}),mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation\"}),\"{\"),\" repositories \",mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation\"}),\"}\")),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\")\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n\t`,mdx(\"span\",a({parentName:\"code\"},{className:\"token keyword control-flow\"}),\"return\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"(\"),`\n\t\t`,mdx(\"span\",a({parentName:\"code\"},{className:\"token tag\"}),mdx(\"span\",a({parentName:\"span\"},{className:\"token tag\"}),mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation\"}),\"<\"),\"pre\"),mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation\"}),\">\")),mdx(\"span\",a({parentName:\"code\"},{className:\"token plain-text\"})),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token plain-text\"}),\"\t\t\t\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token known-class-name class-name\"}),\"JSON\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\".\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token method function property-access\"}),\"stringify\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"(\"),\"repositories\",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token keyword null nil\"}),\"null\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token number\"}),\"4\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\")\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token plain-text\"})),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token plain-text\"}),\"\t\t\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token tag\"}),mdx(\"span\",a({parentName:\"span\"},{className:\"token tag\"}),mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation\"}),\"</\"),\"pre\"),mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation\"}),\">\")),`\n\t`,mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\")\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\";\"),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n`))))}MDXContent.isMDXComponent=!0;\n","scope":{"banner_alt":"A photo of a forest overlooking the bright white sky in the background","banner":"https://images.unsplash.com/photo-1618401471353-b98afee0b2eb","title_prefix":"Guide","title":"Using GitHub as a CMS","description":"Learn how to use GitHub as a CMS using server-side rendering from Next.js","date":"2022-01-19"}}}},"__N_SSG":true}